(function(t){function e(e){for(var i,a,o=e[0],u=e[1],c=e[2],h=0,d=[];h<o.length;h++)a=o[h],r[a]&&d.push(r[a][0]),r[a]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={app:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("64a9"),r=n.n(i);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Sample")],1)},s=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"hello"}},[t._v("\n  →\n")])},o=[],u=(n("386d"),n("28a5"),n("d225")),c=n("b0b4"),l=n("308d"),h=n("013f"),d=n("6bb5"),f=n("2a88"),v=n("4e2b"),y=n("bd86"),_=(n("6b54"),n("3846"),function(){function t(e,n,i,r){if(Object(u["a"])(this,t),null===e||void 0===e)throw new Error("Have to set Event Type.");this._type=e,this._origin=n||null,this._bubbles="boolean"===typeof i&&i,this._cancelable="boolean"===typeof r&&r,this._currentTarget,this.flags,this.preventDefaults}return Object(c["a"])(t,[{key:"setFlag",value:function(t){this.flags|=t}},{key:"clearFlag",value:function(t){hasFlag(t)&&(this.flags^=t)}},{key:"hasFlag",value:function(t){return(this.flags&t)==t}},{key:"resetFlags",value:function(){this.flags=0}},{key:"isDefaultPrevented",value:function(){return this.hasFlag(this.preventDefaults)}},{key:"preventDefault",value:function(){_cancelable&&p.setFlag(this.preventDefaults)}},{key:"stopPropagation",value:function(){this.setFlag(_stopPropagation)}},{key:"currentTarget",get:function(){return this._currentTarget},set:function(t){this._currentTarget=t}},{key:"canPropagate",get:function(){return!this.hasFlag(_stopPropagation)}},{key:"bubbles",get:function(){return this._bubbles}},{key:"cancelable",get:function(){return this._cancelable}},{key:"origin",get:function(){return this._origin}},{key:"type",get:function(){return this._type}}],[{key:"INIT",value:function(){return"init"}},{key:"START",value:function(){return"start"}},{key:"UPDATE",value:function(){return"update"}},{key:"COMPLETE",value:function(){return"complete"}},{key:"ERROR",value:function(){return"error"}},{key:"IO_ERROR",value:function(){return"ioError"}},{key:"SECURITY_ERROR",value:function(){return"securityError"}},{key:"CHANGE",value:function(){return"change"}},{key:"CANCEL",value:function(){return"cancel"}},{key:"RENDER",value:function(){return"render"}},{key:"RESIZE",value:function(){return"resize"}},{key:"ENTER_FRAME",value:function(){return"enterFrame"}}]),t}()),m=function(){function t(e,n){Object(u["a"])(this,t),this.currentTarget=e||null,this.queuedEvents={},this.deferedEvents=[],this.listeners={},this.target=n||null}return Object(c["a"])(t,[{key:"dispatchQueuedEvents",value:function(t){if(this.queuedEvents.hasOwnProperty(t)&&this.queuedEvents.hasOwnProperty(t)){var e,n=this.queuedEvents[t].slice(0);delete this.queuedEvents[t];while(e=n.pop())this.dispatchEvent(e)}}},{key:"addEventListener",value:function(t,e){if(this.listeners.hasOwnProperty(t)||(this.listeners[t]=[]),"function"!=typeof e)throw new Error("Listener is not a function.");this.listeners[t].push(e)}},{key:"cancelDeferredEvents",value:function(){var t;while(t=this.deferedEvents.pop())clearTimeout(t)}},{key:"cancelQueuedEvents",value:function(){for(var t in this.queuedEvents)this.queuedEvents.hasOwnProperty(t)&&delete this.queuedEvents[t]}},{key:"deferEventDispatch",value:function(t,e){var n=this,i=this.deferedEvents.length;this.deferedEvents.push(setTimeout(function(){n.dispatchEvent(t),n.deferedEvents.slice(i,1)},e||1e3))}},{key:"dispatchEvent",value:function(t){if(t.currentTarget=this.currentTarget,this.listeners.hasOwnProperty(t.type)){var e,n,i,r=this.listeners[t.type];for(e=0,n=r.length;e<n;++e)i=r[e],i(t)}this.dispatchQueuedEvents(t.type),null!==this.target&&!0===t.bubbles&&!0===t.canPropagate&&this.target.dispatchEvent(t)}},{key:"getEventListeners",value:function(t){return this.hasEventListener(t)?this.listeners[t]:[]}},{key:"hasEventListener",value:function(t){return!!(this.listeners.hasOwnProperty(t)&&this.listeners[t].length>0)}},{key:"queueEventDispatch",value:function(t,e){this.queuedEvents.hasOwnProperty(t)||(this.queuedEvents[t]=[]),this.queuedEvents[t].push(e)}},{key:"removeEventListener",value:function(t,e){if(this.listeners.hasOwnProperty(t)){var n,i,r=this.listeners[t];for(n=0,i=this.listeners.length;n<i;++n)if(r[n]===e){this.listeners[t].splice(n,1);break}}}}]),t}(),g=function(){function t(e){Object(u["a"])(this,t),this._request,this._total=NaN,this._loaded=NaN,this._percent=NaN,this._request,this._content,this._dispatcher=new m(this),this._callback=e}return Object(c["a"])(t,[{key:"load",value:function(){}},{key:"kill",value:function(){}},{key:"cancel",value:function(){}},{key:"loaderInitHandler",value:function(){this._dispatcher.dispatchEvent(new _(_.INIT))}},{key:"loaderProgressHandler",value:function(){this._dispatcher.dispatchEvent(new _(_.RENDER))}},{key:"loaderCompleteHandler",value:function(){void 0!==this._callback&&this._callback(),this._dispatcher.dispatchEvent(new _(_.COMPLETE))}},{key:"loadIOErrorHandler",value:function(){this._dispatcher.dispatchEvent(new _(_.IO_ERROR))}},{key:"loadSecurityHandler",value:function(){this._dispatcher.dispatchEvent(new _(_.SECURITY_ERROR))}},{key:"request",get:function(){return this._request}},{key:"total",get:function(){return this._total}},{key:"loaded",get:function(){return this._loaded}},{key:"percent",get:function(){return this._percent}},{key:"content",get:function(){return this._content}},{key:"dispatcher",get:function(){return _dispatcher}},{key:"callback",get:function(){return _callback}}]),t}();window.XMLHttpRequest||(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw new Error("This browser does not support XMLHttpRequest.")});var k=function(t){function e(t){var n;return Object(u["a"])(this,e),n=Object(l["a"])(this,Object(d["a"])(e).call(this,t)),n.id=(new Date).getTime().toString(16)+Math.floor(1e3*Math.random()).toString(16),n}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"load",value:function(t){var n=this,i=new XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){404===i.status?Object(f["a"])(Object(d["a"])(e.prototype),"loadIOErrorHandler",n).call(n):0===i.readyState||(1===i.readyState?Object(f["a"])(Object(d["a"])(e.prototype),"loaderProgressHandler",n).call(n):2===i.readyState||3===i.readyState||4===i.readyState&&(200===i.status?(document.getElementById("xhr-result1"),n._content=i.responseText):0===i.status&&(document.getElementById("xhr-result1"),n._content=i.responseText),Object(f["a"])(Object(d["a"])(e.prototype),"loaderCompleteHandler",n).call(n)))},i.send(null)}}]),e}(g);n("ac6a"),n("456d");(function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),r=window.setTimeout(function(){e(n+i)},i);return t=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})})();var E=function(){function t(){Object(u["a"])(this,t),this.renderId=void 0,this.items={}}return Object(c["a"])(t,[{key:"add",value:function(t,e,n){var i=this;void 0==this.items[e]?this.items[e]=t:!0===n&&console.log("【Ticker Error】"+e+"というインスタンス名は"+this.items[e]+"において使用されています。"),0!==Object.keys(this.items).length&&(this.renderId=window.requestAnimationFrame(function(){i._render()}))}},{key:"kill",value:function(t,e){this.items[t]?delete this.items[t]:!0===e&&console.log("【Ticker Error】"+t+"というインスタンスはリストに登録されていません。"),0===Object.keys(this.items).length&&(window.cancelAnimationFrame(this.renderId),this.renderId=void 0,this.items={})}},{key:"killAll",value:function(){for(var t in this.items)delete this.items[t];this.items={},void 0!=this.renderId&&(window.cancelAnimationFrame(this.renderId),this.renderId=void 0)}},{key:"hasItem",value:function(t){return void 0!=this.items[t]}},{key:"get",value:function(t){return this.items[t]}},{key:"_render",value:function(){var t=this;for(var e in this.items)this.items[e]();Object.keys(this.items).length>=1&&(window.cancelAnimationFrame(this.renderId),this.renderId=window.requestAnimationFrame(function(){t._render()}))}}]),t}(),b=new E,w=function(){function t(){var e=this;Object(u["a"])(this,t),Object(y["a"])(this,"_render",function(){!0===isNaN(e._totalFrames)||!0===isNaN(e._currentFrame)||!0===isNaN(e._percent)?e.renderCompleteEvent():e._percent>=1?e.stop():(e.setPercent(),e.renderingEvent(),0!=e._speed&&(e.currentFrame=e.currentFrame+e._speed))}),this._id=(new Date).getTime().toString(16)+Math.floor(1e6*Math.random()).toString(16),this._totalFrames=NaN,this._currentFrame=0,this._percent=0,this._speed=.1,this._dispatcher=new m(this)}return Object(c["a"])(t,[{key:"load",value:function(){}},{key:"kill",value:function(){this.stop(),this._content=null}},{key:"play",value:function(){this.renderStartEvent(),b.add(this._render,"play_"+this._id,!1),this._currentFrame=0,this.setPercent()}},{key:"resume",value:function(){b.add(this._render,"play_"+this._id,!1)}},{key:"pause",value:function(){b.kill("play_"+this._id,!1)}},{key:"stop",value:function(){b.kill("play_"+this._id,!1),this._currentFrame=0,this.setPercent(),this.renderCompleteEvent()}},{key:"seek",value:function(t,e){this._currentFrame=t,this.setPercent(),!0===e&&this.resume()}},{key:"setPercent",value:function(){!1===isNaN(this._totalFrames)&&!1===isNaN(this._currentFrame)&&(this._percent=this._currentFrame/this._totalFrames)}},{key:"renderInitEvent",value:function(){this._dispatcher.dispatchEvent(new _(_.INIT))}},{key:"renderStartEvent",value:function(){this._dispatcher.dispatchEvent(new _(_.START))}},{key:"renderingEvent",value:function(){this._dispatcher.dispatchEvent(new _(_.RENDER))}},{key:"renderCompleteEvent",value:function(){this._dispatcher.dispatchEvent(new _(_.COMPLETE))}},{key:"id",get:function(){return this._id}},{key:"totalFrames",get:function(){return this._totalFrames},set:function(t){this._totalFrames=t,this.setPercent()}},{key:"currentFrame",get:function(){return this._currentFrame},set:function(t){this._currentFrame=t,this.setPercent()}},{key:"percent",get:function(){return this._percent},set:function(t){t=Math.min(t,1),this._currentFrame=t*this._totalFrames,this._percent=t}},{key:"speed",get:function(){return this._speed},set:function(t){this._speed=t}},{key:"content",get:function(){return this._content}},{key:"dispatcher",get:function(){return this._dispatcher}}]),t}(),O=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(l["a"])(this,Object(d["a"])(e).call(this)),Object(y["a"])(Object(h["a"])(t),"renderHandler",function(){t._point=t._path.getPointAtLength(t.currentFrame);var e=t._path.getPointAtLength(0==t.currentFrame?0:t.currentFrame-1);t._rotation=t._radian(t._point.x,t._point.y,e.x,e.y)}),t._loader,t._svg,t._path,t._point,t.dispatcher.addEventListener(_.RENDER,t.renderHandler),t}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"load",value:function(t,e){var n=this,i=function(){n.createSvg(),n.renderInitEvent(),!1!==e&&n.play()};this._loader=new k(i),this._loader.load(t)}},{key:"kill",value:function(){this.dispatcher.removeEventListener(_.RENDER,this.renderHandler),this.stop(),Object(f["a"])(Object(d["a"])(e.prototype),"kill",this).call(this),this._loader=null,this._svg=null,this._path=null,this._point=null,this._rotation=0}},{key:"play",value:function(){Object(f["a"])(Object(d["a"])(e.prototype),"play",this).call(this)}},{key:"resume",value:function(){Object(f["a"])(Object(d["a"])(e.prototype),"resume",this).call(this)}},{key:"pause",value:function(){Object(f["a"])(Object(d["a"])(e.prototype),"pause",this).call(this)}},{key:"stop",value:function(){Object(f["a"])(Object(d["a"])(e.prototype),"stop",this).call(this)}},{key:"seek",value:function(t){Object(f["a"])(Object(d["a"])(e.prototype),"seek",this).call(this,t)}},{key:"createSvg",value:function(){var t,e=String(this._loader.content).split("\n"),n="",i="";for(t in e){var r=String(e[t].search("viewBox="));""===n&&-1!=r&&(n=String(e[t]).substr(r,String(e[t]).length))}for(t in""!=n&&(n=n.split("viewBox=").join(""),n=n.split('"').join("")),e)""===i&&-1!=String(e[t].search("<path"))&&(i=e[t]);if(""!=i){i=i.split("<path ").join(""),i=i.split("/>").join(""),i=String(i).split(" ");var s={};for(t in i){var a=String(i[t]).split("=");s[a[0]]=a[1].split('"').join("")}var o="http://www.w3.org/2000/svg";this._svg=document.createElementNS(o,"svg"),this._svg.setAttributeNS(null,"version",1.1),this._svg.setAttributeNS(null,"id","svg"+this.id),this._svg.setAttributeNS(null,"x","0px"),this._svg.setAttributeNS(null,"y","0px"),this._svg.setAttributeNS(null,"viewBox",n),this._path=document.createElementNS(o,"path"),this._path.setAttribute("id","path"+this.id),void 0!==s["fill"]&&this._path.setAttribute("fill",s["fill"]),void 0!==s["stroke"]&&this._path.setAttribute("stroke",s["stroke"]),void 0!==s["stroke-miterlimit"]&&this._path.setAttribute("stroke-miterlimit",s["stroke-miterlimit"]),void 0!==s["d"]&&this._path.setAttribute("d",s["d"]),this._svg.appendChild(this._path),this.totalFrames=this._path.getTotalLength(),this.currentFrame=0}}},{key:"_radian",value:function(t,e,n,i){var r=t-n,s=e-i,a=Math.atan2(s,r);return 180*a/Math.PI}},{key:"loader",get:function(){return this._loader}},{key:"svg",get:function(){return this._svg}},{key:"path",get:function(){return this._path}},{key:"point",get:function(){return this._point}},{key:"rotation",get:function(){return this._rotation}}]),e}(w),j={name:"Sample",created:function(){},mounted:function(){var t=this,e=new O;e.speed=1,e.dispatcher.addEventListener(_.INIT,function(){console.log("Event.INIT"),e.play(),document.getElementById("app").append(e.svg)}),e.dispatcher.addEventListener(_.START,function(){console.log("Event.START")}),e.dispatcher.addEventListener(_.RENDER,function(){var n=e.point.x,i=e.point.y;t.$el.style.left=n+"px",t.$el.style.top=i+"px",t.$el.style.transform="rotate("+e.rotation+"deg)",console.log("Event.RENDER: percent:"+e.percent+" x:"+n+" y:"+i+" rotation:"+e.rotation)}),e.dispatcher.addEventListener(_.COMPLETE,function(){console.log("Event.COMPLETE")}),e.load("test.svg",!1)}},T=j,F=(n("a362"),n("2877")),R=Object(F["a"])(T,a,o,!1,null,"23beb6c2",null),S=R.exports,P={name:"app",components:{Sample:S}},N=P,A=(n("034f"),Object(F["a"])(N,r,s,!1,null,null,null)),I=A.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(I)}}).$mount("#app")},"64a9":function(t,e,n){},a362:function(t,e,n){"use strict";var i=n("a48b"),r=n.n(i);r.a},a48b:function(t,e,n){}});
//# sourceMappingURL=app.6db19664.js.map