(function(e){function t(t){for(var r,s,u=t[0],o=t[1],c=t[2],h=0,d=[];h<u.length;h++)s=u[h],a[s]&&d.push(a[s][0]),a[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var o=n[u];0!==a[o]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-spritesheet-player/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var l=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("a026"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("SpriteSheetPlayer",{attrs:{name:"Animal"}}),n("SpriteSheetPlayer",{attrs:{name:"CircleToSquare"}})],1)},i=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.name},[n("div",{staticClass:"cont"})])},u=[],o=(n("7f7f"),n("d225")),c=n("b0b4"),l=n("308d"),h=n("013f"),d=n("6bb5"),f=n("2a88"),y=n("4e2b"),v=n("bd86"),m=(n("6b54"),n("7618")),_=(n("3846"),function(){function e(t,n,r,a){if(Object(o["a"])(this,e),null===t||void 0===t)throw new Error("Have to set Event Type.");this._type=t,this._origin=n||null,this._bubbles="boolean"===typeof r&&r,this._cancelable="boolean"===typeof a&&a,this._currentTarget,this.flags,this.preventDefaults}return Object(c["a"])(e,[{key:"setFlag",value:function(e){this.flags|=e}},{key:"clearFlag",value:function(e){hasFlag(e)&&(this.flags^=e)}},{key:"hasFlag",value:function(e){return(this.flags&e)==e}},{key:"resetFlags",value:function(){this.flags=0}},{key:"isDefaultPrevented",value:function(){return this.hasFlag(this.preventDefaults)}},{key:"preventDefault",value:function(){_cancelable&&p.setFlag(this.preventDefaults)}},{key:"stopPropagation",value:function(){this.setFlag(_stopPropagation)}},{key:"currentTarget",get:function(){return this._currentTarget},set:function(e){this._currentTarget=e}},{key:"canPropagate",get:function(){return!this.hasFlag(_stopPropagation)}},{key:"bubbles",get:function(){return this._bubbles}},{key:"cancelable",get:function(){return this._cancelable}},{key:"origin",get:function(){return this._origin}},{key:"type",get:function(){return this._type}}],[{key:"INIT",value:function(){return"init"}},{key:"START",value:function(){return"start"}},{key:"UPDATE",value:function(){return"update"}},{key:"COMPLETE",value:function(){return"complete"}},{key:"ERROR",value:function(){return"error"}},{key:"IO_ERROR",value:function(){return"ioError"}},{key:"SECURITY_ERROR",value:function(){return"securityError"}},{key:"CHANGE",value:function(){return"change"}},{key:"CANCEL",value:function(){return"cancel"}},{key:"RENDER",value:function(){return"render"}},{key:"RESIZE",value:function(){return"resize"}},{key:"ENTER_FRAME",value:function(){return"enterFrame"}}]),e}()),g=function(){function e(){Object(o["a"])(this,e),this.queuedEvents={},this.deferedEvents=[],this.listeners={}}return Object(c["a"])(e,[{key:"dispatchQueuedEvents",value:function(e){if(this.queuedEvents.hasOwnProperty(e)&&this.queuedEvents.hasOwnProperty(e)){var t,n=this.queuedEvents[e].slice(0);delete this.queuedEvents[e];while(t=n.pop())this.dispatchEvent(t)}}},{key:"addEventListener",value:function(e,t){if(void 0===e)throw new Error("Event Class is not found.");if(this.listeners.hasOwnProperty(e)||(this.listeners[e]=[]),"function"!=typeof t)throw new Error("Listener is not a function.");this.listeners[e].push(t)}},{key:"cancelDeferredEvents",value:function(){var e;while(e=this.deferedEvents.pop())clearTimeout(e)}},{key:"cancelQueuedEvents",value:function(){for(var e in this.queuedEvents)this.queuedEvents.hasOwnProperty(e)&&delete this.queuedEvents[e]}},{key:"deferEventDispatch",value:function(e,t){var n=this,r=this.deferedEvents.length;this.deferedEvents.push(setTimeout(function(){n.dispatchEvent(e),n.deferedEvents.slice(r,1)},t||1e3))}},{key:"dispatchEvent",value:function(e){if(e.currentTarget=this._currentTarget,this.listeners.hasOwnProperty(e.type)){var t,n,r,a=this.listeners[e.type];for(t=0,n=a.length;t<n;++t)r=a[t],r(e)}this.dispatchQueuedEvents(e.type),null!==this.target&&!0===e.bubbles&&!0===e.canPropagate&&this.target.dispatchEvent(e)}},{key:"getEventListeners",value:function(e){return this.hasEventListener(e)?this.listeners[e]:[]}},{key:"hasEventListener",value:function(e){return!!(this.listeners.hasOwnProperty(e)&&this.listeners[e].length>0)}},{key:"queueEventDispatch",value:function(e,t){this.queuedEvents.hasOwnProperty(e)||(this.queuedEvents[e]=[]),this.queuedEvents[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(this.listeners.hasOwnProperty(e)){var n,r,a=this.listeners[e];for(n=0,r=this.listeners.length;n<r;++n)if(a[n]===t){this.listeners[e].splice(n,1);break}}}},{key:"currentTarget",get:function(){return this._currentTarget},set:function(e){this._currentTarget=e||null}}]),e}(),b=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).call(this)),e._request,e._total=NaN,e._loaded=NaN,e._percent=NaN,e._request,e._content,e._callback=null,e.currentTarget=Object(h["a"])(e),e}return Object(y["a"])(t,e),Object(c["a"])(t,[{key:"load",value:function(){}},{key:"kill",value:function(){}},{key:"cancel",value:function(){}},{key:"loaderInitHandler",value:function(){Object(f["a"])(Object(d["a"])(t.prototype),"dispatchEvent",this).call(this,new _(_.INIT))}},{key:"loaderProgressHandler",value:function(){Object(f["a"])(Object(d["a"])(t.prototype),"dispatchEvent",this).call(this,new _(_.RENDER))}},{key:"loaderCompleteHandler",value:function(){void 0===this._callback&&null===this._callback||(this._callback(),this._callback=void 0),Object(f["a"])(Object(d["a"])(t.prototype),"dispatchEvent",this).call(this,new _(_.COMPLETE))}},{key:"loadIOErrorHandler",value:function(){Object(f["a"])(Object(d["a"])(t.prototype),"dispatchEvent",this).call(this,new _(_.IO_ERROR))}},{key:"loadSecurityHandler",value:function(){Object(f["a"])(Object(d["a"])(t.prototype),"dispatchEvent",this).call(this,new _(_.SECURITY_ERROR))}},{key:"request",get:function(){return this._request}},{key:"total",get:function(){return this._total}},{key:"loaded",get:function(){return this._loaded}},{key:"percent",get:function(){return this._percent}},{key:"content",get:function(){return this._content}},{key:"callback",get:function(){return this._callback},set:function(e){"function"===String(Object(m["a"])(e))?this._callback=e:console.log(e+" is not function")}}]),t}(g);window.XMLHttpRequest||(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")});var k=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).call(this)),e.id=(new Date).getTime().toString(16)+Math.floor(1e3*Math.random()).toString(16),e}return Object(y["a"])(t,e),Object(c["a"])(t,[{key:"load",value:function(e,n){var r=this;this._content={};var a=new XMLHttpRequest;a.open("GET",e,!0),a.onreadystatechange=function(){404===a.status?Object(f["a"])(Object(d["a"])(t.prototype),"loadIOErrorHandler",r).call(r):0===a.readyState||(1===a.readyState?Object(f["a"])(Object(d["a"])(t.prototype),"loaderProgressHandler",r).call(r):2===a.readyState||3===a.readyState||4===a.readyState&&(200===a.status?r._content["json"]=a.responseText:0===xhr0.status&&(r._content["json"]=a.responseText),r.secondLoad(n)))},a.send(null)}},{key:"secondLoad",value:function(e){var n=this,r=new XMLHttpRequest;r.responseType="blob",r.open("GET",e,!0),r.onreadystatechange=function(){404===r.status?Object(f["a"])(Object(d["a"])(t.prototype),"loadIOErrorHandler",n).call(n):0===r.readyState||(1===r.readyState?Object(f["a"])(Object(d["a"])(t.prototype),"loaderProgressHandler",n).call(n):2===r.readyState||3===r.readyState||4===r.readyState&&(200===r.status?n._content["image"]=URL.createObjectURL(r.response):0===xhr0.status&&(n._content["image"]=URL.createObjectURL(r.response)),Object(f["a"])(Object(d["a"])(t.prototype),"loaderCompleteHandler",n).call(n)))},r.send(null)}}]),t}(b);n("ac6a"),n("456d");(function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),a=window.setTimeout(function(){t(n+r)},r);return e=n+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})})();var E=function(){function e(){Object(o["a"])(this,e),this.renderId=void 0,this.items={}}return Object(c["a"])(e,[{key:"add",value:function(e,t,n){var r=this;void 0==this.items[t]?this.items[t]=e:!0===n&&console.log("【Ticker Error】"+t+"というインスタンス名は"+this.items[t]+"において使用されています。"),0!==Object.keys(this.items).length&&(this.renderId=window.requestAnimationFrame(function(){r._render()}))}},{key:"kill",value:function(e,t){this.items[e]?delete this.items[e]:!0===t&&console.log("【Ticker Error】"+e+"というインスタンスはリストに登録されていません。"),0===Object.keys(this.items).length&&(window.cancelAnimationFrame(this.renderId),this.renderId=void 0,this.items={})}},{key:"killAll",value:function(){for(var e in this.items)delete this.items[e];this.items={},void 0!=this.renderId&&(window.cancelAnimationFrame(this.renderId),this.renderId=void 0)}},{key:"hasItem",value:function(e){return void 0!=this.items[e]}},{key:"get",value:function(e){return this.items[e]}},{key:"_render",value:function(){var e=this;for(var t in this.items)this.items[t]();Object.keys(this.items).length>=1&&(window.cancelAnimationFrame(this.renderId),this.renderId=window.requestAnimationFrame(function(){e._render()}))}}]),e}(),O=new E,j=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).call(this)),Object(v["a"])(Object(h["a"])(e),"_render",function(){!0===isNaN(e._totalFrames)||!0===isNaN(e._currentFrame)||!0===isNaN(e._percent)?e.stop():e._percent>=1?e.stop():(e.setPercent(),e.renderingEvent(),0!=e._speed&&(e.currentFrame=e.currentFrame+e._speed))}),e._id=(new Date).getTime().toString(16)+Math.floor(1e6*Math.random()).toString(16),e._totalFrames=NaN,e._currentFrame=0,e._percent=0,e._speed=.1,e.currentTarget=Object(h["a"])(e),e}return Object(y["a"])(t,e),Object(c["a"])(t,[{key:"load",value:function(){}},{key:"kill",value:function(){O.kill("play_"+this._id,!1),this._content=null,this._totalFrames=NaN,this._currentFrame=NaN,this._percent=NaN,this._speed=NaN,this.currentTarget=null}},{key:"play",value:function(){this._currentFrame=0,this.setPercent(),this.renderStartEvent(),O.add(this._render,"play_"+this._id,!1)}},{key:"resume",value:function(){O.add(this._render,"play_"+this._id,!1)}},{key:"pause",value:function(){O.kill("play_"+this._id,!1)}},{key:"stop",value:function(){O.kill("play_"+this._id,!1),this._currentFrame=0,this.setPercent(),this.renderCompleteEvent()}},{key:"seek",value:function(e,t){this._currentFrame=e,this.setPercent(),!0===t&&this.resume()}},{key:"setPercent",value:function(){!1===isNaN(this._totalFrames)&&!1===isNaN(this._currentFrame)&&(this._percent=this._currentFrame/this._totalFrames)}},{key:"renderInitEvent",value:function(){Object(f["a"])(Object(d["a"])(t.prototype),"dispatchEvent",this).call(this,new _(_.INIT))}},{key:"renderStartEvent",value:function(){Object(f["a"])(Object(d["a"])(t.prototype),"dispatchEvent",this).call(this,new _(_.START))}},{key:"renderingEvent",value:function(){Object(f["a"])(Object(d["a"])(t.prototype),"dispatchEvent",this).call(this,new _(_.RENDER))}},{key:"renderCompleteEvent",value:function(){Object(f["a"])(Object(d["a"])(t.prototype),"dispatchEvent",this).call(this,new _(_.COMPLETE))}},{key:"id",get:function(){return this._id}},{key:"totalFrames",get:function(){return this._totalFrames},set:function(e){this._totalFrames=e,this.setPercent()}},{key:"currentFrame",get:function(){return this._currentFrame},set:function(e){this._currentFrame=e,this.setPercent()}},{key:"percent",get:function(){return this._percent},set:function(e){e=Math.min(e,1),this._currentFrame=e*this._totalFrames,this._percent=e,1!==e?this.renderingEvent():this.stop()}},{key:"speed",get:function(){return this._speed},set:function(e){this._speed=e}},{key:"content",get:function(){return this._content}}]),t}(g),w=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).call(this)),Object(v["a"])(Object(h["a"])(e),"renderHandler",function(){if(0!==e._frameData.length){var t=e._frameData[parseInt(e.currentFrame)];t&&(e._currentFrameData=t)}}),e._loader=null,e._spriteSheet=null,e._path=null,e._point=null,e._frameData=[],e._currentFrameData=null,e}return Object(y["a"])(t,e),Object(c["a"])(t,[{key:"load",value:function(e,t,n){var r=this;this.addEventListener(_.RENDER,this.renderHandler),this._jsonPath=e,this._imagePath=t,this._loader=new k,this._loader.callback=function(){r.createSpriteSheet(),r.renderInitEvent(),!1!==n&&r.play()},this._loader.load(e,t)}},{key:"kill",value:function(){this.removeEventListener(_.RENDER,this.renderHandler),Object(f["a"])(Object(d["a"])(t.prototype),"kill",this).call(this),this._loader=null,this._spriteSheet=null,this._path=null,this._point=null,this._frameData=[],this._currentFrameData=null}},{key:"play",value:function(){this.addEventListener(_.RENDER,this.renderHandler),Object(f["a"])(Object(d["a"])(t.prototype),"play",this).call(this)}},{key:"resume",value:function(){Object(f["a"])(Object(d["a"])(t.prototype),"resume",this).call(this)}},{key:"pause",value:function(){Object(f["a"])(Object(d["a"])(t.prototype),"pause",this).call(this)}},{key:"stop",value:function(){Object(f["a"])(Object(d["a"])(t.prototype),"stop",this).call(this)}},{key:"seek",value:function(e){Object(f["a"])(Object(d["a"])(t.prototype),"seek",this).call(this,e)}},{key:"createSpriteSheet",value:function(){this.speed=1;var e=this.json.frames;for(var t in this._frameData=[],e)this._frameData.push(e[t]);this.totalFrames=this._frameData.length,this.currentFrame=0}},{key:"json",get:function(){return JSON.parse(this._loader.content["json"])}},{key:"image",get:function(){return this._loader.content["image"]}},{key:"loader",get:function(){return this._loader}},{key:"jsonPath",get:function(){return this._jsonPath}},{key:"imagePath",get:function(){return this._imagePath}},{key:"spriteSheet",get:function(){return this._spriteSheet}},{key:"path",get:function(){return this._path}},{key:"point",get:function(){return this._point}},{key:"frameData",get:function(){return this._frameData}},{key:"currentFrameData",get:function(){return this._currentFrameData}},{key:"x",get:function(){return this._currentFrameData?this._currentFrameData.frame.x:0}},{key:"y",get:function(){return this._currentFrameData?this._currentFrameData.frame.y:0}},{key:"width",get:function(){return this._currentFrameData?this._currentFrameData.frame.w:0}},{key:"height",get:function(){return this._currentFrameData?this._currentFrameData.frame.h:0}},{key:"rotated",get:function(){return this._currentFrameData?this._currentFrameData.rotated:0}},{key:"trimmed",get:function(){return!!this._currentFrameData&&this._currentFrameData.trimmed}},{key:"spriteSourceSizeX",get:function(){return this._currentFrameData?this._currentFrameData.spriteSourceSize.x:0}},{key:"spriteSourceSizeY",get:function(){return this._currentFrameData?this._currentFrameData.spriteSourceSize.y:0}},{key:"spriteSourceSizeWidth",get:function(){return this._currentFrameData?this._currentFrameData.spriteSourceSize.w:0}},{key:"spriteSourceSizeHeight",get:function(){return this._currentFrameData?this._currentFrameData.spriteSourceSize.h:0}},{key:"sourceSizeWidth",get:function(){return this._currentFrameData?this._currentFrameData.sourceSize.w:0}},{key:"sourceSizeHeight",get:function(){return this._currentFrameData?this._currentFrameData.sourceSize.h:0}}]),t}(j),F=(n("cffa"),{props:{name:String},data:function(){return{image_src:this.name+".png"}},mounted:function(){var e=this,t=this.$el,n=this.$el.children[0],r=new w;r.addEventListener(_.INIT,function(){console.log("Event.INIT"),n.style.backgroundImage='url("/'+e.image_src+'")',n.style.backgroundRepeat="no-repeat";var t=new Image;t.src=r.image,t.id="my-image",e.$el.append(t),r.play()}),r.addEventListener(_.START,function(){console.log("Event.START")}),r.addEventListener(_.RENDER,function(){var e=r.x,a=r.y,i=r.width,s=r.height,u=r.spriteSourceSizeY,o=r.spriteSourceSizeX;n.style.width=i+"px",n.style.height=s+"px",n.style.backgroundPosition=-e+"px "+-a+"px",t.style.paddingTop=u+"px",n.style.marginLeft=o+"px",console.log("Event.RENDER: x:"+e+" y:"+a+" w:"+i+" h:"+s)}),r.addEventListener(_.COMPLETE,function(){console.log("Event.COMPLETE"),r.play()}),r.load(this.name+".json",this.name+".png",!1)}}),S=F,T=n("2877"),D=Object(T["a"])(S,s,u,!1,null,"3cd7f8b3",null),R=D.exports,P={name:"app",components:{SpriteSheetPlayer:R}},N=P,I=Object(T["a"])(N,a,i,!1,null,null,null),L=I.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(L)}}).$mount("#app")}});
//# sourceMappingURL=app.a031c3c6.js.map